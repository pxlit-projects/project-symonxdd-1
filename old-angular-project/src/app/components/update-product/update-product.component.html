<mat-card class="product-card">
  <mat-card-header>
    <mat-card-title>Update Existing Product</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <mat-form-field appearance="outline" class="product-selection-input">
      <mat-label>Select Product</mat-label>
      <mat-select (selectionChange)="onSelectProduct($event.value)">
        <mat-option *ngFor="let product of products" [value]="product">
          {{ product.name }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <form *ngIf="selectedProduct" [formGroup]="updateForm" (ngSubmit)="onSubmitUpdate()">

      <mat-form-field appearance="outline">
        <mat-label>Name</mat-label>
        <input matInput id="update-name" formControlName="name" />
        <mat-error *ngIf="updateForm.get('name')?.hasError('required') && updateForm.get('name')?.touched">
          Name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Description</mat-label>
        <input matInput id="update-description" formControlName="description" />
        <mat-error
          *ngIf="updateForm.get('description')?.hasError('required') && updateForm.get('description')?.touched">
          Description is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Price</mat-label>
        <input matInput id="update-price" type="number" formControlName="price" />
        <mat-error *ngIf="updateForm.get('price')?.hasError('required') && updateForm.get('price')?.touched">
          Price is required
        </mat-error>
        <mat-error *ngIf="updateForm.get('price')?.hasError('min') && updateForm.get('price')?.touched">
          Price must be a positive number
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Stock</mat-label>
        <input matInput id="update-stock" type="number" formControlName="stock" />
        <mat-error *ngIf="updateForm.get('stock')?.hasError('required') && updateForm.get('stock')?.touched">
          Stock is required
        </mat-error>
        <mat-error *ngIf="updateForm.get('stock')?.hasError('min') && updateForm.get('stock')?.touched">
          Stock must be a positive number
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Category</mat-label>
        <input matInput id="update-category" formControlName="categoryName" />
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Labels (comma-separated)</mat-label>
        <input matInput id="update-labels" formControlName="labelNames" />
      </mat-form-field>

      <button mat-raised-button color="primary" type="submit">Update Product</button>
    </form>
  </mat-card-content>
</mat-card>